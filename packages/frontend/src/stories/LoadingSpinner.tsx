import { css } from "twin.macro";

// https://codepen.io/vinztt/pen/XjEyvZ
export function LoadingSpinner({
  height = 60,
  width = 60,
  border = 3,
}: {
  height?: number;
  width?: number;
  border?: number;
}) {
  const pokeball = css`
    width: ${width}px;
    height: ${height}px;
    background-color: #fff;
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    border: ${border}px solid #000;
    animation: frames 1.5s linear 0s infinite;
    box-sizing: border-box;

    &:after {
      content: "";
      position: absolute;
      width: ${width}px;
      height: ${height}px;
      background-color: red;
      border-left: ${border + 1}px solid #000;
    }

    &:before {
      content: "";
      position: absolute;
      background-color: #fff;
      width: ${width / 3}px;
      height: ${height / 3}px;
      border: ${border + 1}px solid #000;
      border-radius: 50%;
      bottom: ${width / 3 - border}px;
      right: ${width / 3 - border}px;
      z-index: 1;
    }

    @keyframes frames {
      0% {
        transform: rotate(270deg);
      }
      10% {
        transform: rotate(290deg);
      }
      30% {
        transform: rotate(250deg);
      }
      40% {
        transform: rotate(270deg);
      }
      50% {
        transform: rotate(290deg);
      }
      70% {
        transform: rotate(250deg);
      }
      80% {
        transform: rotate(270deg);
      }
      100% {
        transform: rotate(270deg);
      }
    }
  `;
  return <span css={[pokeball]}></span>;
}
